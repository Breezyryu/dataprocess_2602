# ============================================================================
# ìƒˆë¡œìš´ ì‚¬ì´í´ ë¶„ë¥˜ ì‹œìŠ¤í…œ ì‚¬ìš© ì˜ˆì œ
# ============================================================================

import cycle_categorizer
import importlib

# ëª¨ë“ˆ ì¬ë¡œë”©
importlib.reload(cycle_categorizer)

print("="*80)
print("ğŸ”„ ìƒˆë¡œìš´ ì¸ë±ìŠ¤ ê¸°ë°˜ ì‚¬ì´í´ ë¶„ë¥˜ ì‹œìŠ¤í…œ")
print("="*80)

# ============================================================================
# 1. ì‚¬ì´í´ ë¶„ë¥˜ ì‹¤í–‰
# ============================================================================

print("\n[1ë‹¨ê³„] ì‚¬ì´í´ ë¶„ë¥˜ ì‹¤í–‰")
print("-"*80)

categories = cycle_categorizer.categorize_cycles(cycle_list)

# ê²°ê³¼ ì¶œë ¥
cycle_categorizer.print_categorization_report(cycle_list, categories)

# ============================================================================
# 2. ê° ì‚¬ì´í´ì— ì¹´í…Œê³ ë¦¬ ë¼ë²¨ ì¶”ê°€
# ============================================================================

print("\n[2ë‹¨ê³„] ê° ì‚¬ì´í´ì— ì¹´í…Œê³ ë¦¬ ë¼ë²¨ ì¶”ê°€")
print("-"*80)

cycle_categorizer.add_category_labels(cycle_list, categories)
print("âœ… ëª¨ë“  ì‚¬ì´í´ì— 'category' ì»¬ëŸ¼ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.")

# ============================================================================
# 3. ê²€ì¦ ì‹¤í–‰ (ì„ íƒì‚¬í•­)
# ============================================================================

print("\n[3ë‹¨ê³„] ê²€ì¦ ì‹¤í–‰ (ì„ íƒì‚¬í•­)")
print("-"*80)
print("ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ ë‹¤ìŒ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ì„¸ìš”:")
print("  exec(open('verify_categorization.py', encoding='utf-8').read())")

# ============================================================================
# 4. ì¹´í…Œê³ ë¦¬ë³„ ìš”ì•½
# ============================================================================

print("\n[4ë‹¨ê³„] ì¹´í…Œê³ ë¦¬ë³„ ìš”ì•½")
print("-"*80)

for category, indices in categories.items():
    print(f"\n[{category}]")
    print(f"  - ì‚¬ì´í´ ê°œìˆ˜: {len(indices)}")
    if indices:
        # ì²˜ìŒ 10ê°œë§Œ í‘œì‹œ
        display_indices = indices[:10]
        print(f"  - ì‚¬ì´í´ ì¸ë±ìŠ¤: {display_indices}", end="")
        if len(indices) > 10:
            print(f" ... ì™¸ {len(indices)-10}ê°œ")
        else:
            print()

print("\n" + "="*80)
print("âœ… ìƒˆë¡œìš´ ë¶„ë¥˜ ì‹œìŠ¤í…œ ì ìš© ì™„ë£Œ!")
print("="*80)

# ============================================================================
# 5. ì‹œê°í™” (ì„ íƒì‚¬í•­)
# ============================================================================

print("\n[5ë‹¨ê³„] ì‹œê°í™” (ì„ íƒì‚¬í•­)")
print("-"*80)
print("ì¹´í…Œê³ ë¦¬ë³„ ì‚¬ì´í´ì„ ì‹œê°í™”í•˜ë ¤ë©´ ë‹¤ìŒ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ì„¸ìš”:")
print("  exec(open('visualize_all_cycles.py', encoding='utf-8').read())")
